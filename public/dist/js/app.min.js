/*
 contactlistapp 2016-11-12 
*/
var routerApp=angular.module("routerApp",["ui.router","ngRoute","core","phoneDetail","vehicleShowroom","myInventoryApp"]);routerApp.config(function(a,b){"use strict";b.otherwise("/home"),a.state("home",{url:"/home",templateUrl:"partial-home.html"}).state("home.list",{url:"/list",templateUrl:"partial-home-list.html",controller:function(a){a.cars=["Ford Mustang","Chevrolet Camaro","Nissan Frontier"]}}).state("home.paragraph",{url:"/paragraph",template:"Some paragraph of text!"}).state("about",{url:"/about",views:{"":{templateUrl:"partial-about.html"},"columnOne@about":{template:"Another template can go here!"},"columnTwo@about":{templateUrl:"table-data.html",controller:"carController"}}}).state("phones",{url:"/phones",template:"<phone-list></phone-list>"}).state("phoneId",{url:"/phones/:phoneTag",template:"<phone-detail></phone-detail>"}).state("employee",{url:"/employee",templateUrl:"protoemployee/partial-employee.html"}).state("employee.inventory",{url:"/inventory",templateUrl:"protoemployee/inventory/partial-employee-inventory.html"}).state("employee.customers",{url:"/customers",templateUrl:"protoemployee/partial-employee-customers.html",controller:function(a){}}).state("employee.employees",{url:"/employees",templateUrl:"protoemployee/partial-employee-employees.html"}).state("employee.sales",{url:"/sales",templateUrl:"protoemployee/partial-employee-sales.html"}).state("account",{url:"/account",templateUrl:"login/account/index.html",controller:"Account.IndexController",controllerAs:"vm",data:{activeTab:"account"}})}),routerApp.controller("carController",function(a){"use strict";a.message="test",a.cars=[{name:"Porsche 911",price:50},{name:"Nissan GTR",price:1e4},{name:"Ford Mustang",price:2e4}]}),angular.module("employeesApp",[]).controller("employeesCtrl",["$scope","$http",function(a,b){console.log("employees controller");var c=function(){console.log("employees controller refresh"),b.get("/employees").success(function(b){console.log("I got the data I requested"),a.employees=b,a.employee=""})};c(),a.addEmployee=function(){console.log(a.employee),a.validateInputData(),a.valid===!0&&b.post("/employees",a.employee).success(function(a){console.log(a),c()})},a.remove=function(a){console.log(a),b.delete("/employees/"+a).success(function(a){c()})},a.edit=function(c){console.log(c),b.get("/employees/"+c).success(function(b){a.employee=b})},a.update=function(){console.log(a.employee._id),a.validateInputData(),a.valid===!0&&b.put("/employees/"+a.employee._id,a.employee).success(function(a){c()})},a.deselect=function(){a.employee=""},a.validateInputData=function(){a.valid=!0,console.log("Validating input data"),validateString(a.employee.firstName,2,20,"first name")||(a.valid=!1),validateString(a.employee.lastName,2,20,"last name")||(a.valid=!1),validateNumber(a.employee.employeeNumber,1,6,"employee number")||(a.valid=!1),validatePhoneNumber(a.employee.phoneNumber)||(a.valid=!1),validateEmailAddress(a.employee.emailAddress)||(a.valid=!1)}}]),angular.module("inventoryApp",[]).controller("inventoryCtrl",["$scope","$http",function(a,b){console.log("inventory controller");var c=function(){b.get("/inventory").success(function(b){console.log("I got the data I requested"),a.inventory=b,a.vehicle=""})};c(),a.addVehicle=function(){console.log(a.vehicle),a.validateInputData(),a.valid===!0&&b.post("/inventory",a.vehicle).success(function(a){console.log(a),c()})},a.remove=function(a){console.log(a),b.delete("/inventory/"+a).success(function(a){c()})},a.edit=function(c){console.log(c),b.get("/inventory/"+c).success(function(b){a.vehicle=b})},a.update=function(){console.log(a.vehicle._id),a.validateInputData(),a.valid===!0&&b.put("/inventory/"+a.vehicle._id,a.vehicle).success(function(a){c()})},a.deselect=function(){a.vehicle=""},a.validateInputData=function(){console.log("Validating input data"),a.valid=!0,validateString(a.vehicle.make,2,20,"make")||(a.valid=!1),validateString(a.vehicle.model,2,20,"model")||(a.valid=!1),validateNumber(a.vehicle.miles,1,9,"miles")||(a.valid=!1),validateNumber(a.vehicle.year,4,4,"year")||(a.valid=!1),validateString(a.vehicle.color,2,20,"color")||(a.valid=!1),validateNumber(a.vehicle.price,1,9,"price")||(a.valid=!1),validateNumber(a.vehicle.cost,1,9,"cost")||(a.valid=!1)}}]),angular.module("loginApp",[]).controller("loginCtrl",["$scope","$http",function(a,b){a.login=function(){}}]),angular.module("signupApp",[]).controller("signupCtrl",["$scope","$http","$location",function(a,b,c){var d=function(){b.get("/users").success(function(b){console.log("the users response is "+b),a.users=b,a.user=""})};d(),a.signUp=function(){b.post("/users",a.user).success(function(a){console.log("signUp() post response was"+a),d()})},a.remove=function(a){console.log("removing user "+a),b.delete("/users/"+a).success(function(a){d()})}}]);var myNumberServices=angular.module("NumberServices",[]);myNumberServices.service("EchoNumber",[function(){this.echo=function(a){return a}}]),myNumberServices.service("MathOperations",[function(){this.addTwoNumbers=function(a,b){return a+b},this.multiplyTwoNumbers=function(a,b){return a*b}}]);var mySharedModel=angular.module("mySharedModel",[]);mySharedModel.factory("messages",["$rootScope",function(a){var b={};return b.list=[],b.add=function(a){b.list.push({id:b.list.length,text:a}),this.broadcastItem()},b.broadcastItem=function(){a.$broadcast("modelUpdate")},b}]),angular.module("TestService",[]).factory("Test",["$http",function(a){return{get:function(){}}}]);var validateString=function(a,b,c,d){var e="";return"make"===d||"model"===d?(e="The "+d+" must be between "+b+" and "+c+" chars, it can contain only letters, numbers, and spaces",validateRegex(a,b,c,/^[a-zA-Z0-9 ]+$/,e)):(e="The "+d+" must be between "+b+" and "+c+" chars, it can contain only letters",validateRegex(a,b,c,/^[a-zA-Z]+$/,e))},validateNumber=function(a,b,c,d){var e="The "+d+" must be between "+b+" and "+c+" digits, it can contain only numbers";return validateRegex(a,b,c,/^[0-9]+$/,e)},validatePhoneNumber=function(a){var b="The phone number must be in format 000 000 0000, separators allowed are space ( ), dot (.) and dash (-)";return validateRegex(a,12,12,/^\(?(\d{3})\)?[ .-]?(\d{3})[ .-]?(\d{4})$/,b)},validateEmailAddress=function(a){var b="The email address is not valid",c=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return validateRegex(a,7,100,c,b)},validateRegex=function(a,b,c,d,e){return!(!a||a.length<b||a.length>c||!d.test(a))||(e&&""!==e?alert(e):alert("I can not validate the input data"),!1)};module.exports={nodeValidateString:function(a,b,c,d){var e="";return"make"===d||"model"===d?(e="The "+d+" must be between "+b+" and "+c+" chars, it can contain only letters, numbers, and spaces",validateRegex(a,b,c,/^[a-zA-Z0-9 ]+$/,e)):(e="The "+d+" must be between "+b+" and "+c+" chars, it can contain only letters",validateRegex(a,b,c,/^[a-zA-Z]+$/,e))},nodeValidateNumber:function(a,b,c,d){var e="The "+d+" must be between "+b+" and "+c+" digits, it can contain only numbers";return validateRegex(a,b,c,/^[0-9]+$/,e)},nodeValidatePhoneNumber:function(a){var b="The phone number must be in format 000 000 0000, separators allowed are space ( ), dot (.) and dash (-)";return validateRegex(a,12,12,/^\(?(\d{3})\)?[ .-]?(\d{3})[ .-]?(\d{4})$/,b)},nodeValidateEmailAddress:function(a){var b="The email address is not valid",c=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return validateRegex(a,7,100,c,b)}};var validateRegex=function(a,b,c,d,e){return!(!a||a.length<b||a.length>c||!d.test(a))||(e&&""!==e?console.log(e):console.log("I can not validate the input data"),!1)};